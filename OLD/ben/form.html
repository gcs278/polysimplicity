<!DOCTYPE html>
<html>
  <head>
    <title>Form Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="//oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
	<div class="container">
		<form class="form-horizontal" role="form">
			<h2>Candidate Info</h2>
			<div class="form-group">
				<label for="first_name" class="col-sm-2 control-label">First Name</label>
				<div class="col-sm-10">
					<input type="text" name="firstName" class="form-control" id="first_name" placeholder="First Name">
				</div>
			</div>
			<div class="form-group">
				<label for="middle_name" class="col-sm-2 control-label">Middle Name</label>
				<div class="col-sm-10">
					<input type="text" name="middleName" class="form-control" id="middle_name" placeholder="Middle Name">
				</div>
			</div>
			<div class="form-group">
				<label for="last_name" class="col-sm-2 control-label">Last Name</label>
				<div class="col-sm-10">
					<input type="text" name="lastName" class="form-control" id="last_name" placeholder="Last Name">
				</div>
			</div>
			<div class="radio col-sm-10 col-sm-offset-2">
				<label>
					<input type="radio" name="gender" id="male" value="male">
					Male
				</label>
			</div>
			<div class="radio col-sm-10 col-sm-offset-2">
				<label>
					<input type="radio" name="gender" id="female" value="female">
					Female
				</label>
			</div>
			<div class="form-group">
				<label for="birth_date" class="col-sm-2 control-label">Date of Birth</label>
				<div class="col-sm-10">
					<input type="date" name="date_of_birth" class="form-control" id="birth_date" placeholder="Date of Birth">
				</div>
			</div>
			<div class="form-group">
				<label for="birth_state" class="col-sm-2 control-label">State of Birth</label>
				<div class="col-sm-10">
					<select class="form-control" name="birth_state" id="birth_state">
						<option value="">Select a State...</option>
						<option value="AL">Alabama</option>
						<option value="AK">Alaska</option>
						<option value="AZ">Arizona</option>
						<option value="AR">Arkansas</option>
						<option value="CA">California</option>
						<option value="CO">Colorado</option>
						<option value="CT">Connecticut</option>
						<option value="DE">Delaware</option>
						<option value="DC">District Of Columbia</option>
						<option value="FL">Florida</option>
						<option value="GA">Georgia</option>
						<option value="HI">Hawaii</option>
						<option value="ID">Idaho</option>
						<option value="IL">Illinois</option>
						<option value="IN">Indiana</option>
						<option value="IA">Iowa</option>
						<option value="KS">Kansas</option>
						<option value="KY">Kentucky</option>
						<option value="LA">Louisiana</option>
						<option value="ME">Maine</option>
						<option value="MD">Maryland</option>
						<option value="MA">Massachusetts</option>
						<option value="MI">Michigan</option>
						<option value="MN">Minnesota</option>
						<option value="MS">Mississippi</option>
						<option value="MO">Missouri</option>
						<option value="MT">Montana</option>
						<option value="NE">Nebraska</option>
						<option value="NV">Nevada</option>
						<option value="NH">New Hampshire</option>
						<option value="NJ">New Jersey</option>
						<option value="NM">New Mexico</option>
						<option value="NY">New York</option>
						<option value="NC">North Carolina</option>
						<option value="ND">North Dakota</option>
						<option value="OH">Ohio</option>
						<option value="OK">Oklahoma</option>
						<option value="OR">Oregon</option>
						<option value="PA">Pennsylvania</option>
						<option value="RI">Rhode Island</option>
						<option value="SC">South Carolina</option>
						<option value="SD">South Dakota</option>
						<option value="TN">Tennessee</option>
						<option value="TX">Texas</option>
						<option value="UT">Utah</option>
						<option value="VT">Vermont</option>
						<option value="VA">Virginia</option>
						<option value="WA">Washington</option>
						<option value="WV">West Virginia</option>
						<option value="WI">Wisconsin</option>
						<option value="WY">Wyoming</option>
					</select>
				</div>
			</div>
			<div class="form-group">
				<label for="party" class="col-sm-2 control-label">Political Party</label>
				<div class="col-sm-10">
					<select class="form-control" name="party" id="party">
					  <option value="">Select a Party...</option>
					  <option value="Rep">Republican</option>
					  <option value="Dem">Democrat</option>
					  <option value="Ind">Independent</option>
					  <option value="Lib">Libertarian</option>
					</select>
				</div>
			</div>
			<h2>Positions</h2>
			<div class="well" id="original">
				<div class="form-group">
					<label for="title" class="col-sm-2 control-label">Title</label>
					<div class="col-sm-10">
						<input type="text" name="title1" class="form-control" id="title" placeholder="Title">
					</div>
				</div>
				<div class="form-group">
					<label for="status" class="col-sm-2 control-label">Status</label>
					<div class="col-sm-10">
						<select class="form-control" name="status1" id="status">
							<option value"">Select a Status...</option>
							<option value"Current">Current</option>
							<option value"Previous">Previous</option>
							<option value"Running_For">Running</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label for="term_start" class="col-sm-2 control-label">Term Start</label>
					<div class="col-sm-10">
						<input type="date" name="term_start1" class="form-control" id="term_start" placeholder="Date of Term Start">
					</div>
				</div>
				<div class="form-group">
					<label for="term_end" class="col-sm-2 control-label">Term End</label>
					<div class="col-sm-10">
						<input type="date" name="term_end1" class="form-control" id="term_end" placeholder="Date of Term End">
					</div>
				</div>
				<button type="button" class="btn btn-default add_position">Add Another</button>
			</div>
			<div id="more_positions"></div>
			<h2>Views</h2>
			<div class="form-group">
				<label for="detail" class="col-sm-2 control-label">Detailed Views</label>
				<div class="col-sm-10">
					<textarea type="text" rows="5" name="detail" class="form-control" id="detailed_views"></textarea>
				</div>
			</div>
			<button type="submit" id="submit" class="btn btn-default">Submit</button>
		</form>
	</div>
	
	<script src="//code.jquery.com/jquery-1.9.1.js"></script>
	<script src="//code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
	<script>
		$('input[type="text"]').focusout(function() {
			if ($(this).val() == "") {
				$(this).parent().removeClass('has-success');
				$(this).parent().addClass('has-error');
			} else {
				$(this).parent().removeClass('has-error');
				$(this).parent().addClass('has-success');
			}
		});
		
		var count_positions = 1;
		
		var add_position = function() {
			++count_positions;
			var copied = $('#more_positions').append("<div class='well'><button type='button' class='close' aria-hidden'true'>&times;</button><div class='form-group'><label for='title" + count_positions + "' class='col-sm-2 control-label'>Title</label><div class='col-sm-10'><input type='text' name='title" + count_positions + "' class='form-control' placeholder='Title'></div></div><div class='form-group'><label for='status" + count_positions + "' class='col-sm-2 control-label'>Status</label><div class='col-sm-10'><select class='form-control' name='status" + count_positions + "'><option value''>Select a Status...</option><option value'Current'>Current</option><option value'Previous'>Previous</option><option value'Running_For'>Running</option></select></div></div><div class='form-group'><label for='term_start" + count_positions + "' class='col-sm-2 control-label'>Term Start</label><div class='col-sm-10'><input type='date' name='term_start" + count_positions + "' class='form-control' placeholder='Date of Term Start'></div></div><div class='form-group'><label for='term_end" + count_positions + "' class='col-sm-2 control-label'>Term End</label><div class='col-sm-10'><input type='date' name='term_end" + count_positions + "' class='form-control' placeholder='Date of Term End'></div></div><button type='button' class='btn btn-default add_position'>Add Another</button></div>");
			$('#original button').remove();
			$('.add_position:last').parent().prev().children('.add_position').remove();
			
			$('input[type="text"]').focusout(function() {
				if ($(this).val() == "") {
					$(this).parent().removeClass('has-success');
					$(this).parent().addClass('has-error');
				} else {
					$(this).parent().removeClass('has-error');
					$(this).parent().addClass('has-success');
				}
			});
			
			$('.add_position:last').click(add_position);
			$('#more_positions .well .close:last').click(delete_position);
			
			return false;
		};
		
		var delete_position = function() {
			$(this).parent().remove();
			if ($('#more_positions').is(':empty')) {
				$('#original').append("<button type='button' class='btn btn-default add_position'>Add Another</button>");
				$('.add_position').click(add_position);
				console.log("Added button");
			} else {
				$('.well:last').append("<button type='button' class='btn btn-default add_position'>Add Another</button>");
			}
			return false;
		};
		
		$('.add_position').click(add_position);
	</script>
  </body>